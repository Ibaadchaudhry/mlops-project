# Production Environment Kustomization
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: mlops-fl-production

namespace: mlops-fl-prod

resources:
  - ../../base

# Override images with production tags
images:
  - name: fl-server
    newName: your-registry.com/fl-server
    newTag: v1.0.0
  - name: api-service
    newName: your-registry.com/api-service
    newTag: v1.0.0
  - name: dashboard
    newName: your-registry.com/dashboard
    newTag: v1.0.0
  - name: fl-client
    newName: your-registry.com/fl-client
    newTag: v1.0.0

# Production-specific patches
patchesStrategicMerge:
  - namespace-patch.yaml
  - storage-patch.yaml
  - security-patch.yaml
  - resource-patch.yaml

# Production environment labels
commonLabels:
  environment: production
  tier: prod

# Production ConfigMap with production settings
configMapGenerator:
  - name: env-config
    literals:
      - LOG_LEVEL=INFO
      - DEBUG_MODE=false
      - FL_ROUNDS=10
      - FL_MIN_CLIENTS=5
      - MONITORING_ENABLED=true
      - SECURITY_ENABLED=true

# Production annotations
commonAnnotations:
  environment: production
  maintainer: ops-team@company.com
  backup.policy: "daily"
  monitoring.enabled: "true"