# Development Environment Kustomization
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

metadata:
  name: mlops-fl-development

namespace: mlops-fl-dev

resources:
  - ../../base

# Override images with development tags
images:
  - name: fl-server
    newName: fl-server
    newTag: dev-latest
  - name: api-service
    newName: api-service
    newTag: dev-latest
  - name: dashboard
    newName: dashboard
    newTag: dev-latest
  - name: fl-client
    newName: fl-client
    newTag: dev-latest

# Development-specific patches
patchesStrategicMerge:
  - namespace-patch.yaml
  - storage-patch.yaml
  - service-patch.yaml

# Development environment labels
commonLabels:
  environment: development
  tier: dev

# Development ConfigMap
configMapGenerator:
  - name: env-config
    literals:
      - LOG_LEVEL=DEBUG
      - DEBUG_MODE=true
      - FL_ROUNDS=3
      - FL_MIN_CLIENTS=2

# Replace common annotations
commonAnnotations:
  environment: development
  maintainer: dev-team@company.com